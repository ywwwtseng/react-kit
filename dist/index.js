import{default as is}from"react-hot-toast";import _ from"react";var Ie={size:{12:{fontSize:"8rem",lineHeight:"1"},11:{fontSize:"6rem",lineHeight:"1"},10:{fontSize:"4.5rem",lineHeight:"1"},9:{fontSize:"3.75rem",lineHeight:"1"},8:{fontSize:"2.25rem",lineHeight:"2.5rem"},7:{fontSize:"1.875rem",lineHeight:"2.25rem"},6:{fontSize:"1.5rem",lineHeight:"2rem"},5:{fontSize:"1.25rem",lineHeight:"1.75rem"},4:{fontSize:"1.125rem",lineHeight:"1.75rem"},3:{fontSize:"1rem",lineHeight:"1.5rem"},2:{fontSize:"0.875rem",lineHeight:"1.25rem"},1:{fontSize:"0.75rem",lineHeight:"1rem"}}},W=_.memo(({as:e="p",align:t="left",weight:r=400,size:o="3",className:n,ellipsis:i=!1,lineClamp:s,capitalize:a=!1,whitespacePreWrap:c=!1,noWrap:m=!1,dangerouslySetInnerHTML:u=!1,children:l,...d})=>_.createElement(e,{className:n,style:{textAlign:t,fontWeight:r,...Ie.size[o],...i?{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}:{},...s?{WebkitLineClamp:s,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden"}:{},...a?{textTransform:"capitalize"}:{},...c?{whiteSpace:"pre-wrap"}:{},...m?{whiteSpace:"nowrap"}:{},...d},...u?{dangerouslySetInnerHTML:{__html:l}}:{children:l}}));import{useEffect as F,useState as J}from"react";import{jsx as Ee}from"react/jsx-runtime";function Le(e){return String(e).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(t,r,o,n,i)=>{i=Number(i);let s=o+n;if(i<0){let a=o.length+i;return r+"0."+"0".repeat(-a)+s}else return r+s+"0".repeat(i-n.length)})}function Me(){let e=navigator.userAgent,t=navigator.maxTouchPoints>0;return/Android|iPhone|iPad|iPod|Windows Phone/i.test(e)||t}function Ne(e){if(!e)return"";let t=e.split("."),r=t[0]||"";if(r===""||/^0+$/.test(r)){let i=r;return t.length>1?`${i}.${t[1]}`:e.endsWith(".")?`${i}.`:i}let o=r.match(/^(0+)/);if(o){let i=o[1],s=r.slice(i.length);if(s){let a=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),c=i+a;return t.length>1?`${c}.${t[1]}`:e.endsWith(".")?`${c}.`:c}}let n=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.length>1?`${n}.${t[1]}`:e.endsWith(".")?`${n}.`:n}function mr({decimal:e=0,value:t,onChange:r,onInputChange:o,maxDigits:n,...i}){let[s,a]=J(t),[c,m]=J(!1);return F(()=>{s==="."&&t===""||(s==="0"&&t===""&&a(""),Number(s)!==Number(t)&&a(s!==""&&t===""?"":t))},[t,s]),F(()=>{o?.(s)},[s,o]),Ee("input",{...i,className:i.className?`input ${i.className}`:"input",type:"text",value:c?s:Ne(s),onChange:u=>{Me()&&m(!0);let l=u.target.value.replace(/,/g,"");if(l===""||l==="."){a(l),r("");return}if(l.startsWith(".")&&l.length>1){let f=s.replace(/,/g,"");f.startsWith("0.")&&f.slice(1)===l||(l="0"+l)}if((l.match(/\./g)||[]).length>1||!/^\.?\d*\.?\d*$/.test(l)||typeof n=="number"&&l.replace(".","").length>n)return;if(e===0){l==="0"?(a(""),r("")):(a(l.replace(".","")),r(l.replace(".","")));return}let d=l.split(".")[1];d&&d.length>e||Number(l)>=0&&(a(l),r(Le(Number(l))))}})}import{jsx as P}from"react/jsx-runtime";function De({className:e,style:t,children:r}){return P("div",{className:e,style:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh",overflow:"hidden",...t},children:r})}function He({style:e,children:t}){return P("div",{style:{width:"100vw",left:0,top:0,padding:"8px 16px",position:"fixed",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"8px",zIndex:1,pointerEvents:"auto",...e},children:t})}function Oe({style:e,children:t}){return P("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"8px",flex:1,...e},children:t})}function We({style:e,children:t}){return P("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",flex:1,...e},children:t})}function Ge({style:e,children:t}){return P("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px",flex:1,...e},children:t})}function ze({ref:e,style:t,children:r}){return P("div",{ref:e,style:{height:"100vh",overflowY:"auto",...t},children:r})}var hr={Root:De,Header:He,HeaderLeft:Oe,HeaderRight:Ge,HeaderTitle:We,Main:ze};import{jsx as Be}from"react/jsx-runtime";function Y({items:e,children:t,...r}){return Be("div",{...r,children:e.map(o=>t(o))})}import{jsx as $e}from"react/jsx-runtime";function vr({style:e,items:t,renderItem:r}){return $e(Y,{style:{width:"100vw",left:0,bottom:0,padding:"4px 16px 0px",position:"fixed",display:"flex",alignItems:"start",justifyContent:"space-between",...e},items:t,children:o=>r(o)})}import Qe from"clsx";import{Drawer as C}from"vaul";import{jsx as b,jsxs as G}from"react/jsx-runtime";function X({type:e="default",handle:t=!0,trigger:r,title:o,children:n,classes:i,...s}){let a=e==="default"?C.Root:C.NestedRoot;return G(a,{...s,children:[r&&b(C.Trigger,{asChild:!0,children:r}),G(C.Portal,{children:[b(C.Overlay,{style:{position:"fixed",inset:"0",zIndex:9999}}),b(C.Content,{style:{position:"fixed",zIndex:9999,bottom:0,left:0,right:0,margin:"0 4px 28px"},children:G("div",{className:Qe(i?.content,"bg-modal"),style:{paddingTop:16,borderRadius:10,display:"flex",alignItems:"center",flexDirection:"column",width:"100%",height:"100%",gap:16},children:[b(C.Title,{className:"hidden",children:o}),b(C.Description,{className:"hidden",children:o}),t&&b(C.Handle,{}),n]})})]})]})}import{useState as Je,useMemo as Ye}from"react";import{jsx as j,jsxs as Ue}from"react/jsx-runtime";function Vr(e){return Ue("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",className:"animate-spin text-white/50 fill-white/80",viewBox:"0 0 100 101",color:"currentColor",fill:"none",...e,children:[j("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),j("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}import{jsx as ee,jsxs as qe}from"react/jsx-runtime";function Mr(e){return qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[ee("path",{d:"m21 21-4.34-4.34"}),ee("circle",{cx:"11",cy:"11",r:"8"})]})}import{jsx as S,jsxs as Ke}from"react/jsx-runtime";function te(e){return S("svg",{fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:Ke("g",{children:[S("rect",{x:"11",y:"1",width:"2",height:"5",opacity:".14"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(30 12 12)",opacity:".29"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(60 12 12)",opacity:".43"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(90 12 12)",opacity:".57"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(120 12 12)",opacity:".71"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(150 12 12)",opacity:".86"}),S("rect",{x:"11",y:"1",width:"2",height:"5",transform:"rotate(180 12 12)"}),S("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"discrete",dur:"0.75s",values:"0 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12;360 12 12",repeatCount:"indefinite"})]})})}import{jsx as re}from"react/jsx-runtime";function Or(e){return re("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:re("path",{d:"m15 18-6-6 6-6"})})}import{jsx as ne}from"react/jsx-runtime";function zr(e){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:ne("path",{d:"m9 18 6-6-6-6"})})}import{jsx as oe}from"react/jsx-runtime";function Qr(e){return oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",...e,children:oe("path",{d:"m6 9 6 6 6-6"})})}import{jsx as ie}from"react/jsx-runtime";function Kr(e){return ie("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5","aria-hidden":"true",...e,children:ie("path",{d:"M20 6 9 17l-5-5"})})}import{jsx as M}from"react/jsx-runtime";function Fr(e){return M("svg",{viewBox:"0 0 300 185",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:M("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:M("g",{id:"walletconnect-logo-alt",fill:"currentColor",fillRule:"nonzero",children:M("path",{d:"M61.4385429,36.2562612 C110.349767,-11.6319051 189.65053,-11.6319051 238.561752,36.2562612 L244.448297,42.0196786 C246.893858,44.4140867 246.893858,48.2961898 244.448297,50.690599 L224.311602,70.406102 C223.088821,71.6033071 221.106302,71.6033071 219.883521,70.406102 L211.782937,62.4749541 C177.661245,29.0669724 122.339051,29.0669724 88.2173582,62.4749541 L79.542302,70.9685592 C78.3195204,72.1657633 76.337001,72.1657633 75.1142214,70.9685592 L54.9775265,51.2530561 C52.5319653,48.8586469 52.5319653,44.9765439 54.9775265,42.5821357 L61.4385429,36.2562612 Z M280.206339,77.0300061 L298.128036,94.5769031 C300.573585,96.9713 300.573599,100.85338 298.128067,103.247793 L217.317896,182.368927 C214.872352,184.763353 210.907314,184.76338 208.461736,182.368989 C208.461726,182.368979 208.461714,182.368967 208.461704,182.368957 L151.107561,126.214385 C150.496171,125.615783 149.504911,125.615783 148.893521,126.214385 C148.893517,126.214389 148.893514,126.214393 148.89351,126.214396 L91.5405888,182.368927 C89.095052,184.763359 85.1300133,184.763399 82.6844276,182.369014 C82.6844133,182.369 82.684398,182.368986 82.6843827,182.36897 L1.87196327,103.246785 C-0.573596939,100.852377 -0.573596939,96.9702735 1.87196327,94.5758653 L19.7936929,77.028998 C22.2392531,74.6345898 26.2042918,74.6345898 28.6498531,77.028998 L86.0048306,133.184355 C86.6162214,133.782957 87.6074796,133.782957 88.2188704,133.184355 C88.2188796,133.184346 88.2188878,133.184338 88.2188969,133.184331 L145.571,77.028998 C148.016505,74.6345347 151.981544,74.6344449 154.427161,77.028798 C154.427195,77.0288316 154.427229,77.0288653 154.427262,77.028899 L211.782164,133.184331 C212.393554,133.782932 213.384814,133.782932 213.996204,133.184331 L271.350179,77.0300061 C273.79574,74.6355969 277.760778,74.6355969 280.206339,77.0300061 Z",id:"WalletConnect"})})})})}import{jsx as se,jsxs as Ze}from"react/jsx-runtime";function Xr(e){return Ze("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[se("path",{d:"M12 5v14"}),se("path",{d:"m19 12-7 7-7-7"})]})}import{jsx as ae,jsxs as _e}from"react/jsx-runtime";function tn(e){return _e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[ae("path",{d:"m5 12 7-7 7 7"}),ae("path",{d:"M12 19V5"})]})}import{jsx as N,jsxs as Fe}from"react/jsx-runtime";function on(e){return Fe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[N("path",{d:"m21 16-4 4-4-4"}),N("path",{d:"M17 20V4"}),N("path",{d:"m3 8 4-4 4 4"}),N("path",{d:"M7 4v16"})]})}import{jsx as ce}from"react/jsx-runtime";var Xe={primary:"#3b82f6",secondary:"rgba(66,66,66,0.8)",active:"#10b981",destructive:"#ef4444"},pe={xs:{fontSize:"0.75rem",minHeight:"32px",padding:"0.25rem 0.5rem"},sm:{fontSize:"0.875rem",minHeight:"40px",padding:"0.5rem 0.75rem"},md:{fontSize:"1.125rem",minHeight:"48px",padding:"0.75rem 1rem"}},ue={sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem",full:"9999px"},je=(e,t=.9)=>{if(e.startsWith("rgb")){let s=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?/);if(s){let c=(s[4]?parseFloat(s[4]):1)*t;return`rgba(${s[1]}, ${s[2]}, ${s[3]}, ${c})`}}let r=e.replace("#",""),o=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),i=parseInt(r.substring(4,6),16);return`rgba(${o}, ${n}, ${i}, ${t})`};function z({variant:e="text",width:t,size:r="md",color:o="primary",textColor:n="#ffffff",rounded:i,isLoading:s=!1,children:a,onClick:c,style:m,disabled:u,...l}){let[d,f]=Je(!1),y=Ye(()=>{let p={display:"flex",alignItems:"center",justifyContent:"center",cursor:u?"not-allowed":"pointer",outline:"none",border:"none",opacity:u?.5:1,transition:"all 0.2s ease-in-out",whiteSpace:"nowrap",...m};if(t==="full"&&(p.width="100%"),r){let g=pe[r];p.fontSize=g.fontSize,p.minHeight=g.minHeight,e!=="icon"&&(p.padding=g.padding)}if(i?p.borderRadius=ue[i]:e==="icon"&&(p.borderRadius=ue.full),e==="icon"&&r){let g=pe[r].minHeight;p.width=g,p.height=g,p.padding="0"}let h=Xe[o]??o,x=d&&!u?je(h,.9):h;return e==="text"?(p.backgroundColor="transparent",p.color=x):(e==="contained"||e==="icon")&&(p.backgroundColor=x,p.color=n),p},[e,t,r,o,i,d,u,m]);return ce("button",{style:y,onClick:p=>{s||u||c?.(p)},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),disabled:u||s,...l,children:s?ce(te,{width:24,height:24}):a})}import{cva as et}from"class-variance-authority";import tt from"clsx";import{jsx as nt}from"react/jsx-runtime";var rt=et("focus:outline-none outline-none placeholder:text-placeholder",{variants:{},defaultVariants:{},compoundVariants:[]});function An({className:e,...t}){return nt("input",{className:tt(rt({className:e})),...t})}import{cva as ot}from"class-variance-authority";import it from"clsx";import{jsx as at}from"react/jsx-runtime";var st=ot("focus:outline-none outline-none resize-none placeholder:text-placeholder",{variants:{},defaultVariants:{},compoundVariants:[]});function Nn({className:e,...t}){return at("textarea",{className:it(st({className:e})),...t})}import{useEffect as pt,useRef as ut}from"react";import{jsx as ct}from"react/jsx-runtime";function On({image:e,size:t=40,...r}){let o=ut(null);return pt(()=>{if(e){let n=o.current;if(n){n.width=t,n.height=t;let i=n.getContext("2d");i&&i.drawImage(e,0,0,t,t)}}},[e,t]),ct("canvas",{ref:o,...r,width:t,height:t})}import{jsx as k,jsxs as le}from"react/jsx-runtime";function qn({title:e,description:t,onOpenChange:r,cancel:o,confirm:n,...i}){return le(X,{title:e,onOpenChange:r,...i,children:[k(W,{size:"2",children:e}),k("div",{className:"px-4 pb-4",children:k(W,{size:"1",children:t})}),le("div",{style:{display:"flex",width:"100%",gap:24,padding:"16px 24px"},children:[k(z,{width:"full",rounded:"full",variant:"contained",color:"secondary",size:"sm",onClick:()=>{r(!1)},children:"Cancel",...o}),k(z,{width:"full",rounded:"full",variant:"contained",size:"sm",color:"destructive",...n,onClick:s=>{r(!1),n.onClick?.(s)}})]})]})}import fe from"react";function E(e){let t=fe.useRef(e);return fe.useEffect(()=>{t.current=e},[e]),t}import{useEffect as lt,useRef as ft}from"react";function Yn(e){let t=ft(!0);lt(()=>{if(!t.current)return;t.current=!1;let r=e();return()=>{r&&r()}},[])}import{useEffect as mt,useState as dt}from"react";function eo(){let[e,t]=dt(!1);return mt(()=>{t(!0)},[]),e}import{useState as gt}from"react";function no(){let[e,t]=gt(!1);return{isOpen:e,onOpenChange:i=>{t(i)},onOpen:()=>{t(!0)},onClose:()=>{t(!1)}}}import{useState as ht,useEffect as yt}from"react";function so(e,t=500){let[r,o]=ht(e);return yt(()=>{let n=setTimeout(()=>{o(e)},t);return()=>clearTimeout(n)},[e,t]),r}import{use as Rt,useMemo as xe,useRef as kt,useEffect as Tt}from"react";import{Drawer as T}from"vaul";import{jsx as A,jsxs as xt}from"react/jsx-runtime";function me({title:e,description:t,style:r,children:o}){return A(T.Root,{handleOnly:!0,direction:"right",open:!!o,repositionInputs:!1,children:A(T.Portal,{children:xt(T.Content,{style:{height:"100vh",minHeight:"100vh",position:"fixed",top:0,bottom:0,left:0,right:0,outline:"none"},children:[A(T.Title,{style:{display:"none"},children:e}),A(T.Description,{style:{display:"none"},children:t}),A("div",{style:{width:"100%",height:"100%",overflowY:"auto",...r},children:o})]})})})}import{createContext as wt,use as ge,useState as Ct,useCallback as St,useMemo as de,useEffect as vt}from"react";import{parseJSON as Pt}from"@ywwwtseng/ywjs";import{jsx as bt}from"react/jsx-runtime";var he=(o=>(o.PAGE="page",o.DRAWER="drawer",o.SINGLE="single",o))(he||{}),V=wt({route:void 0,screens:{},stacks:[],navigate:(e,t)=>{}});function mo({screens:e,children:t}){let[r,o]=Ct(()=>typeof window>"u"?[]:[Pt(sessionStorage.getItem("navigator/screen"))||{screen:"Home",params:{}}]),n=de(()=>{let a=r[r.length-1];if(!a)return;let c=e[a.screen];if(c)return{name:a.screen,params:a.params,type:c.type,title:c.title,screen:c.screen,back:c.back}},[r,e]),i=St((a,c)=>{if(typeof a=="string"&&!Object.keys(e).includes(a)){console.warn(`Screen ${a} not found`);return}let m=c?.type||"push";o(u=>{if(a===-1&&u.length>1)return u.slice(0,-1);if(typeof a=="string"){let l={screen:a,params:c?.params||{}};return m==="replace"?[...u.slice(0,-1),l]:u[u.length-1]?.screen===a?[...u.slice(0,-1),l]:[...u,l].slice(-10)}return u})},[e]),s=de(()=>({route:n,navigate:i,screens:e,stacks:r}),[n,i,e,r]);return vt(()=>{n&&n.type!=="drawer"&&sessionStorage.setItem("navigator/screen",JSON.stringify({screen:n.name,params:n.params}))},[n]),bt(V.Provider,{value:s,children:typeof t=="function"?t(s):t})}var ye=()=>{let e=ge(V);if(!e)throw new Error("useNavigate must be used within a StackNavigator");return e.navigate},D=()=>{let e=ge(V);if(!e)throw new Error("useRoute must be used within a StackNavigator");return e.route};import{Fragment as At,jsx as H,jsxs as Vt}from"react/jsx-runtime";function vo({drawer:e={style:{}}}){let t=kt(null),{route:r,stacks:o,screens:n}=Rt(V),i=xe(()=>{if(r.type!=="page"){let a=r.screen;return H(me,{title:r.title,description:r.title,style:e.style,children:H(a,{params:r.params})})}},[r]),s=xe(()=>{if(r.type!=="page"){let a=o[o.length-2];return a?n[a.screen].screen:void 0}return r.screen},[r,o,n]);if(Tt(()=>{t.current&&(t.current.scrollTop=0)},[r]),!(!s&&!i))return Vt(At,{children:[s&&H("div",{ref:t,style:{height:"100%",overflowY:"auto",display:i?"none":"block"},children:H(s,{params:r.params})}),i]})}import{AppError as Ce}from"@ywwwtseng/ywjs";import{useRef as Ot,useMemo as Se,useCallback as ve,createContext as Wt}from"react";import{Request as Gt}from"@ywwwtseng/request";import{createContext as It,useCallback as Lt,useMemo as Mt}from"react";import{create as Nt}from"zustand";import{produce as Et}from"immer";import{merge as Dt}from"@ywwwtseng/ywjs";import{jsx as Ht}from"react/jsx-runtime";var I=It(void 0),w=Nt(e=>({state:{},loading:[],update:t=>{e(r=>Et(r,o=>{for(let n of t){if(n.type==="update"&&typeof n.payload=="function")return n.payload(o);if(n.type==="update"&&n.target)o.state[n.target]=n.payload;else if(n.type==="merge"&&n.target)o.state[n.target]=Dt(o.state[n.target],n.payload);else if(n.type==="replace"){let i=n.payload,s=n.target||"id";if(typeof i=="object"&&i&&s in i)for(let a of Object.keys(o.state)){let c=o.state[a];if(!Array.isArray(c))continue;let m=c.findIndex(u=>{if(u[s]!==i[s])return!1;let l=Object.keys(u),d=Object.keys(i);return l.length!==d.length?!1:l.every(f=>d.includes(f))});m!==-1&&(c[m]=i)}}else if(n.type==="unshift"&&n.target){let i=o.state[n.target];Array.isArray(i)&&i.unshift(n.payload)}else if(n.type==="push"&&n.target){let i=o.state[n.target];Array.isArray(i)&&i.push(n.payload)}else if(n.type==="delete"&&n.target){let i=n.payload,s=n.target||"id";for(let a of Object.keys(o.state)){let c=o.state[a];if(!Array.isArray(c))continue;let m=c.findIndex(u=>u[s]===i);m!==-1&&c.splice(m,1)}}}}))}}));function we({children:e}){let{update:t}=w(),r=Lt(n=>{t([{type:"update",target:"state",payload:i=>{delete i.state[n]}}])},[t]),o=Mt(()=>({update:t,clear:r}),[t,r]);return Ht(I.Provider,{value:o,children:e})}function v(e,t){return t&&Object.keys(t).length>0?JSON.stringify({path:e,params:t}):e}import{jsx as zt}from"react/jsx-runtime";var B=Wt(void 0);function Pe({url:e,transformRequest:t,onError:r,children:o}){let n=Ot([]),i=ye(),{update:s}=w(),a=Se(()=>new Gt({transformRequest:t}),[t]),c=ve(async(l,d,f)=>{let y=v(l,d);n.current.push(y),s([{type:"update",target:"loading",payload:p=>{p.loading.push(y)}}]);try{let p=await a.post(e,{type:"query",path:l,params:d??{}});if(p.commands&&s(p.commands),p.error)throw new Ce(p.error,p.message??"Unknown error");return p.navigate&&i(p.navigate.screen,{type:"replace",params:p.navigate.params}),p.notify&&f?.onNotify?.(p.notify),{key:y,data:p}}catch(p){throw r?.(p),p}finally{n.current=n.current.filter(p=>p!==y),s([{type:"update",target:"loading",payload:p=>{p.loading=p.loading.filter(h=>h!==y)}}])}},[a]),m=ve(async(l,d)=>{try{let f;if(d instanceof FormData?(d.append("mutation:type","mutate"),d.append("mutation:action",l),f=await a.post(e,d)):f=await a.post(e,{type:"mutate",action:l,payload:d}),f.error)throw new Ce(f.error,f.message??"Unknown error");return f.commands&&s(f.commands),f.navigate&&i(f.navigate.screen,{type:"replace",params:f.navigate.params}),{data:f}}catch(f){throw r?.(f),f}},[a]),u=Se(()=>({query:c,mutate:m,loadingRef:n}),[c,m,n]);return zt(B.Provider,{value:u,children:o})}import{Toaster as _t}from"react-hot-toast";import{useCallback as $t,useMemo as $,createContext as Qt,use as _o}from"react";import{get as Ut,getLocale as qt,translate as Kt}from"@ywwwtseng/ywjs";import{get as Bt}from"@ywwwtseng/ywjs";function be(e){return w(t=>Bt(t.state,e))}import{jsx as Zt}from"react/jsx-runtime";var Q=Qt(void 0);function Re({locales:e,path:t=["me","language_code"],callback:r="en",children:o}){let n=be(t[0]),i=$(()=>n&&Ut(n,t.slice(1))||r,[n,t,r]),s=$(()=>e?qt(e,i,e[r]):null,[i,r,e]),a=$t((m,u)=>s?Kt(s,m,u):m,[s]),c=$(()=>({language_code:i,t:a}),[s,a]);return Zt(Q.Provider,{value:c,children:o})}import{jsx as U,jsxs as Ft}from"react/jsx-runtime";function si({url:e,transformRequest:t,onError:r,i18nProps:o={},toasterProps:n={},children:i}){return Ft(we,{children:[U(Pe,{url:e,transformRequest:t,onError:r,children:U(Re,{...o,children:i})}),U(_t,{...n})]})}import{use as Yt,useMemo as q,useState as Xt,useCallback as jt,useEffect as er}from"react";import{use as Jt}from"react";function R(){let e=Jt(B);if(!e)throw new Error("useClient must be used within a ClientProvider");return e}var tr=e=>Array.isArray(e)?e?.[e.length-1]?.created_at??null:null;function yi(e,t){let r=D(),o=t?.refetchOnMount??!1,n=t?.enabled??!0,i=w(p=>p.state),[s,a]=Xt([]),c=q(()=>s.map(p=>i[p]).filter(Boolean),[s,i]),{update:m}=Yt(I),{query:u,loadingRef:l}=R(),d=q(()=>{let p=c[c.length-1];if(Array.isArray(p)){let h=t.params?.limit;if(typeof h=="number")return p.length===h;if(p.length===0)return!1}return!0},[c]),f=jt(()=>{if(!d)return;let p=t?.params??{};if(!n)return;let h=tr(c?c[c.length-1]:void 0);h&&(p.cursor=h);let x=v(e,p);l.current.includes(x)||(a(g=>[...g,x]),u(e,p))},[e,JSON.stringify(t),d,n,c]),y=q(()=>n&&s.length>0?i[s[s.length-1]]===void 0:!1,[s,i,n]);return er(()=>{if(!n)return;let p=t?.params??{},h=v(e,p);if(!l.current.includes(h)&&!(i[h]!==void 0&&o===!1))return a(x=>[...x,h]),u(e,p),()=>{o&&(m([{type:"update",payload:x=>{s.forEach(g=>{delete x.state[g]})}}]),a([]))}},[e,JSON.stringify(t),n,r.name]),{data:c.length>0?c.flat():void 0,isLoading:y,hasNextPage:d,fetchNextPage:f}}import{useState as or,useCallback as ir}from"react";import{useCallback as nr}from"react";import Te from"react-hot-toast";import{use as rr}from"react";function ke(){let e=rr(Q);if(!e)throw console.trace("useI18n must be used within a I18nProvider"),new Error("useI18n must be used within a I18nProvider");return e}function O(){let{t:e}=ke();return nr((t,r,o)=>{(Te[t]||Te)?.(e?.(r,o)??r)},[e])}function Ii(e,{onError:t,onSuccess:r}={}){let o=R(),n=O(),[i,s]=or(!1),a=E(i);return{mutate:ir(m=>a.current?Promise.reject({message:"Already loading"}):(a.current=!0,s(!0),o.mutate(e,m).then(({data:u})=>(u.notify&&n(u.notify.type,u.notify.message,u.notify.params),r?.(u),u)).catch(u=>{t?.(u.data);let l=u.data.info??{};return n("error",u.data.message??"Unknown error",l),{ok:!1}}).finally(()=>{a.current=!1,s(!1)})),[o.mutate,e,n]),isLoading:i}}import{use as sr,useEffect as K,useCallback as ar,useMemo as pr,useRef as Z}from"react";function Gi(e,t){let r=Z(!1),o=O(),n=E(o),{query:i,loadingRef:s}=R(),{clear:a}=sr(I),c=D(),m=Z(c.name),u=pr(()=>v(e,t?.params??{}),[e,JSON.stringify(t?.params??{})]),l=Z(u),d=t?.params??{},f=t?.refetchOnMount??!1,y=t?.enabled??!0,p=w(g=>g.loading).includes(u),h=w(g=>g.state[u]),x=ar(()=>{y&&(s.current.includes(u)||i(e,d).then(({key:g})=>{t?.autoClearCache&&g!==l.current&&a(g)}))},[u,y,c.name]);return K(()=>(l.current=u,()=>{t?.autoClearCache&&a(u)}),[u]),K(()=>()=>{r.current=!0},[]),K(()=>{r.current||y&&(s.current.includes(u)||h!==void 0&&f===!1||f&&m.current!==c.name||i(e,d).then(({key:g,data:L})=>{L.notify&&n.current(L.notify.type,L.notify.message,L.notify.params),t?.autoClearCache&&g!==l.current&&a(g)}))},[u,y,c.name]),{refetch:x,isLoading:p,data:h}}import Ve from"bignumber.js";import{jsxs as Ae}from"react/jsx-runtime";function ur(e,t=2){let r=typeof e=="number"?new Ve(e).toFixed():e;if(!r.startsWith("0."))return r;let o=r.slice(2),n=o.match(/^0+/);if(!n)return r;let i=n[0].length,s=o.slice(i);if(!s)return r;let a=s.slice(0,t);return a=a.replace(/0+$/,""),{zeroCount:i,significant:a}}function es(e,{showTinyAmount:t=!0}={showTinyAmount:!0}){if(e==null)return;if(e==="0"||e===0)return"0";let r=0,o=new Ve(e);if(o.gt(1e4)?r=1:o.gt(1e3)||o.gt(100)||o.gt(10)||o.eq(1)?r=2:o.gt(1)?r=3:o.eq(0)?r=2:o.gt(.1)?r=3:o.gt(.01)?r=4:r=8,t&&o.lt(1e-5)){let n=ur(e);if(typeof n=="object"){let{zeroCount:i,significant:s}=n;return Ae("span",{children:["0.0",Ae("sub",{children:[i," "]}),s]})}}return o.toFixed(r).replace(/\.?0+$/,"")}export{mr as AmountInput,si as AppProvider,I as AppStateContext,we as AppStateProvider,Xr as ArrowDown,tn as ArrowUp,on as ArrowUpDown,z as Button,On as Canvas,Kr as Check,Qr as ChevronDown,Or as ChevronLeft,zr as ChevronRight,B as ClientContext,Pe as ClientProvider,qn as Confirm,An as Input,hr as Layout,Y as List,Vr as Loading,X as Modal,he as ScreenType,Mr as Search,te as Spinner,V as StackNavigatorContext,mo as StackNavigatorProvider,vo as StackView,vr as TabBar,Nn as Textarea,W as Typography,Fr as WalletConnect,es as displayAmount,Ne as formatAmount,ur as formatTinyAmount,v as getQueryKey,rt as inputVariants,st as textareaVariants,is as toast,be as useAppState,w as useAppStateStore,R as useClient,Yn as useClientOnce,so as useDebounce,no as useDisclosure,ke as useI18n,yi as useInfiniteQuery,eo as useIsMounted,Ii as useMutation,ye as useNavigate,Gi as useQuery,E as useRefValue,D as useRoute};
